# [문제 1] 나눗셈법(Division Method)과 테이블 크기(m)의 중요성
Q. 왜 m의 값으로 2의 거듭제곱을 피하고 소수(Prime Number)를 사용해야 하나요?
해시 함수의 핵심 목표는 '입력된 키(key)들을 해시 테이블 전체에 고르게 퍼뜨리는 것'입니다. 나눗셈법 h(k) = k mod m에서는 m의 선택이 이 분포에 결정적인 영향을 미칩니다.

1. 2의 거듭제곱 (m = 2ᵖ)을 피해야 하는 이유
만약 m = 2ᵖ라면, k mod m의 결과는 k의 이진수 표현에서 하위 p개의 비트와 정확히 일치합니다.
원리: 예를 들어 m = 32 (2⁵)라면, 어떤 수든 32로 나눈 나머지는 그 수의 마지막 5비트만 남긴 것과 같습니다.
문제점: 키 값의 상위 비트(Higher Bits)가 무시됩니다. 만약 상위 비트는 다르지만 하위 비트가 같은 패턴을 가진 데이터들이 들어온다면, 이들은 모두 같은 해시값을 갖게 되어 심각한 해시 충돌(Collision)이 발생합니다.

2. 10의 거듭제곱을 피해야 하는 이유
마찬가지로 m = 10ᵖ라면, 해시값은 키(10진수)의 하위 p자리 숫자가 됩니다. 데이터가 특정 숫자로 끝나는 패턴(예: 사번, 전화번호 등)이 있다면 충돌이 빈번해집니다.

3. 소수(Prime Number)를 사용하는 이유
소수는 1과 자기 자신 외에는 약수가 없는 수입니다.
공약수 문제 해결: 입력 키들이 특정 간격(예: 3의 배수, 4의 배수)을 가지고 들어올 때, 만약 m이 그 간격의 배수라면(약수를 공유한다면) 해시값도 특정 패턴을 그리며 테이블의 일부 공간만 반복해서 사용하게 됩니다.
분산 효과: m을 소수로 정하면, 데이터의 패턴(공약수)과 m이 서로소(Coprime)일 확률이 매우 높아집니다. 이는 키의 특정 패턴을 깨뜨리고 해시값을 테이블 전체에 균등하게 분산(Uniform Distribution)시키는 데 효과적입니다.


# [문제 2] 곱셈법(Multiplication Method)의 원리와 장점
Q. 곱셈법의 계산 과정은 어떻게 되나요?
곱셈법 h(k) = floor(m * (kA mod 1))은 다음 3단계를 거칩니다.

곱하기 (Mixing): 키 k에 상수 A (0 < A < 1)를 곱합니다. 보통 A는 무리수(예: 황금비의 역수 (√5 - 1) / 2 ≈ 0.618)를 사용하여 키의 비트들을 잘 섞이게 만듭니다.
소수점 추출 (Fractional Part): kA mod 1 연산을 수행합니다. 이는 정수 부분을 버리고 소수점 이하 부분만 취하는 것입니다. 결과는 0 이상 1 미만의 실수가 됩니다.
확장 및 정수화 (Scaling): 위 결과에 테이블 크기 m을 곱하여 0부터 m-1 사이의 범위로 늘린 뒤, floor(내림) 연산으로 정수 인덱스를 얻습니다.

Q. 왜 곱셈법은 m의 제약에서 자유롭고 충돌을 잘 막아내나요?
1. 나눗셈법과의 결정적 차이: "어디서 섞는가?"
나눗셈법: 키를 섞고 분산시키는 역할이 전적으로 m에 의존합니다. 그래서 m을 신중하게(소수로) 골라야 합니다.
곱셈법: 키를 섞어서 패턴을 없애는 역할은 상수 A가 담당합니다. m은 단지 섞여진 결과(0~1 사이의 값)를 테이블 크기에 맞게 확대(Scale)하는 역할만 합니다.

2. 입력 키의 모든 비트 활용
상수 A를 곱하는 과정에서 키 k의 모든 비트가 연산에 참여합니다.
특히 소수점 부분을 취하는 과정(mod 1)에서, 키의 하위 비트뿐만 아니라 상위 비트의 변화도 곱셈 결과의 소수점 아래 값에 큰 영향을 줍니다.
따라서 나눗셈법(m=2ᵖ일 때)처럼 하위 비트에만 의존하는 문제가 발생하지 않습니다.

3. m의 선택이 자유로움 (보통 2의 거듭제곱 사용)
이미 A가 데이터를 충분히 무작위로 섞어놓았기 때문에, m은 굳이 소수일 필요가 없습니다.
오히려 컴퓨터 친화적인 m = 2ᵖ를 주로 사용합니다.
이 경우, 곱셈법의 전체 수식은 비트 이동(Shift) 연산으로 매우 빠르게 구현할 수 있어 효율적입니다.

결론: 곱셈법은 상수 A가 데이터의 패턴을 파괴하고 분포를 결정하므로, 
테이블 크기 m의 값과 상관없이 안정적인 성능을 보여줍니다. 
이는 테이블 크기를 유연하게 조절해야 하는 상황에서 큰 장점이 됩니다.